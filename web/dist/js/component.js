"use strict";!function(){window.api={post:function(e,n){var a=$.Deferred();return $.post(e,n).then(function(e){e=$.parseJSON(e),a.resolve(e)}),a},get:function(e,n){var a=$.Deferred();return $.get(e,n).then(function(e){1e4===e.code?a.resolve(e):(dialog.errorMsg(e.msg),a.reject(e))}),a},jsonp:function(e,n){var a=$.Deferred();return $.ajax({url:"http://115.159.189.146:8001"+e,type:"get",dataType:"jsonp",jsonp:"callback",data:n}).then(function(e){1e4===e.code?a.resolve(e):(dialog.errorMsg(e.msg),a.reject(e))}),a},upload:function(e){return this.post("/kf/upload",e)},search:function(e){return this.post("/kf/search",e)},check:function(e){return this.post("/sdk-user/check",e)},carousel:function(e){return this.post("/kf/scroll",e)},login:function(e){return this.jsonp("/sdk-user/login",e)},sendCode:function(e){return this.jsonp("/sdk-user/send-sms-code",e)},reg:function(e){return this.jsonp("/sdk-user/reg",e)},findPwd:function(e){return this.jsonp("/sdk-user/find-pwd",e)},changePwd:function(e){return this.jsonp("/sdk-user/change-pwd",e)},isLogin:function(e){return this.jsonp("/sdk-user/is-login",e)},logout:function(){return this.jsonp("/sdk-user/logout")},success:function(e){return this.get("/src/mock/success.json")},navMenu:function(){return this.get("/src/mock/navMenu.json")}},window.account={dialogConfig:{type:1,title:!1,closeBtn:0,shadeClose:!1,area:["380px","535px"],skin:"account-dialog",shade:[.7,"#000"]},copyState:1,time:60,login:function(){var e=this;this.dialogConfig.area=["410px","305px"],this.dialogConfig.content='<div class="dialog-wrap">                                            <form>                                            <div class="login">                                                <div class="head">登录<div class="icon-account-close" id="loginClose"></div></div>                                                <div class="username"><input class="input" type="text" name="username" placeholder="请输入帐号或手机号" autocomplete="off"><label for="username" class="icon-user"></label></div>                                                <div class="password"><input class="input" type="password" name="password" placeholder="请输入密码" autocomplete="off"><label for="password" class="icon-password"></label></div>                                                <div class="link"><a onclick="layer.closeAll();account.forget();">忘记密码</a> <span class="line">丨</span> <a onclick="layer.closeAll();account.register();" >注册</a></div>                                                <div class="btn"><button type="submit" class="login-btn">登&nbsp;&nbsp;录</button></div>                                            </div>                                            </form>                                        </div>',this.dialogConfig.success=function(n,a){n.find("#loginClose").on("click",function(){layer.close(a)}),n.find("[name=username]").focus(),n.find("form").on("submit",function(a){a.preventDefault();var o={username:$.trim(n.find("[name=username]").val()),password:$.trim(n.find("[name=password]").val())};return o.username?o.password?(api.login(o).then(function(n){e.storeUserInfo(n.data),util.reload()}),!1):(layer.alert("请输入密码"),!1):(layer.alert("请输入手机号/帐号"),!1)})},layer.open(this.dialogConfig)},register:function(){var e=this;this.dialogConfig.area=["380px","375px"],this.dialogConfig.content='<div class="dialog-wrap">                                            <div class="login login-register">                                                <div class="head"><span class="icon-account-dialog-back" onclick="layer.closeAll();account.login();"></span>注册<div class="icon-account-close" id="loginRegisterClose"></div></div>                                                <div class="register-title clear"><span class="active register-title-phone" onclick="common.tabToggle(this);$(this).parent().nextAll().eq(0).find(\'[name=username]\').focus();"><em>手机</em></span><span class="register-title-username" onclick="common.tabToggle(this);$(this).parent().nextAll().eq(1).find(\'[name=username]\').focus();"><em>用户名</em></span></div>                                                <div class="reg-box">                                                    <form>                                                    <div class="phone clear"><input class="input" type="text" name="username" placeholder="请输入手机号码" autocomplete="off"><button type="button" onclick="account.sendCode(this,\'reg\');">发送验证码</button><label for="valicode" class="icon-phone"></label></div>                                                    <div class="valicode"><input class="input" type="text" name="sms_code" placeholder="请输入验证码" id="valicode" autocomplete="off"><label for="valicode" class="icon-valicode"></label></div>                                                    <div class="password"><input class="input" type="password" name="password" placeholder="请输入密码（6-16位）" id="password" autocomplete="off"><label for="password" class="icon-password"></label></div>                                                    <div class="arg">注册表示您同意 <a href="https://cdn.uu66.com/adminIP/home.html" target="_blank">《凯撒用户协议》</a><a class="account-has" onclick="layer.closeAll();account.login();">已有帐号</a></div>                                                    <div class="btn"><button type="submit" class="login-btn" id="phoneReg">注册并登录</button></div>                                                    </form>                                                </div>                                                <div class="reg-box hide">                                                    <form>                                                    <div class="username"><input class="input" type="text" name="username" placeholder="请输入用户名（6-16位）" autocomplete="off"><label for="username" class="icon-user"></label></div>                                                    <div class="password"><input class="input" type="password" name="password" placeholder="请输入密码（6-16位）" autocomplete="off"><label for="password" class="icon-password"></label></div>                                                    <div class="arg">注册表示您同意 <a href="https://cdn.uu66.com/adminIP/home.html" target="_blank">《凯撒用户协议》</a><a class="account-has" onclick="layer.closeAll();account.login();">已有帐号</a></div>                                                    <div class="btn"><button type="submit" class="login-btn" id="userReg">注册并登录</button></div>                                                    </form>                                                </div>                                            </div>                                        </div>',this.dialogConfig.success=function(n,a){n.find("#loginRegisterClose").on("click",function(){layer.close(a)}),n.find("[name=username]").eq(0).focus(),n.find("form").eq(0).on("submit",function(n){n.preventDefault();var a=$(this).parents(".reg-box"),o={username:$.trim(a.find("[name=username]").val()),sms_code:$.trim(a.find("[name=sms_code]").val()),password:$.trim(a.find("[name=password]").val())};return o.username?/^1(3|4|5|7|8)\d{9}$/.test(o.username)?o.sms_code?o.password?(api.reg(o).then(function(n){api.login({username:o.username,password:o.password}).then(function(n){e.storeUserInfo(n.data),util.reload()})}),!1):(layer.alert("请输入密码"),!1):(layer.alert("请输入验证码"),!1):(layer.alert("手机号码格式不正确"),!1):(layer.alert("请输入手机号码"),!1)}),n.find("form").eq(1).on("submit",function(n){n.preventDefault();var a=$(this).parents(".reg-box"),o={username:$.trim(a.find("[name=username]").val()),password:$.trim(a.find("[name=password]").val())};return o.username?o.password?(api.reg(o).then(function(n){api.login({username:o.username,password:o.password}).then(function(n){e.storeUserInfo(n.data),util.reload()})}),!1):(layer.alert("请输入密码"),!1):(layer.alert("请输入用户名"),!1)})},layer.open(this.dialogConfig)},forget:function(){this.dialogConfig.area=["380px","335px"],this.dialogConfig.content='<div class="dialog-wrap">                                            <form>                                            <div class="login login-forget">                                                <div class="head"><span class="icon-account-dialog-back" onclick="layer.closeAll();account.login();"></span>忘记密码<div class="icon-account-close" id="loginForgetClose"></div></div>                                                <div class="phone clear"><input class="input" type="text" name="phone" placeholder="请输入手机号码" autocomplete="off"><button type="button" onclick="account.sendCode(this,\'find_pwd\');">发送验证码</button><label for="valicode" class="icon-phone"></label></div>                                                <div class="valicode"><input class="input" type="text" name="sms_code" placeholder="请输入验证码" autocomplete="off"><label for="valicode" class="icon-valicode"></label></div>                                                <div class="password"><input class="input" type="password" name="password" placeholder="请输入密码" autocomplete="off"><label for="password" class="icon-password"></label></div>                                                <div class="btn"><button type="submit" class="login-btn" id="findPwdBtn">确认</button></div>                                            </div>                                            </form>                                        </div>',this.dialogConfig.success=function(e,n){e.find("#loginForgetClose").on("click",function(){layer.close(n)}),e.find("[name=phone]").focus(),e.find("form").on("submit",function(n){n.preventDefault();var a={phone:$.trim(e.find("[name=phone]").val()),sms_code:$.trim(e.find("[name=sms_code]").val()),password:$.trim(e.find("[name=password]").val())};return a.phone?/^1(3|4|5|7|8)\d{9}$/.test(a.phone)?a.sms_code?a.password?(api.findPwd(a).then(function(e){layer.alert(e.msg,function(e){layer.closeAll(),account.login()})}),!1):(layer.alert("请输入密码"),!1):(layer.alert("请输入验证码"),!1):(layer.alert("手机号码格式不正确"),!1):(layer.alert("请输入手机号码"),!1)})},layer.open(this.dialogConfig)},change:function(){var e=this;this.dialogConfig.area=["410px","335px"],this.dialogConfig.content='<div class="dialog-wrap">                                            <form>                                            <div class="login change">                                                <div class="head"></span>修改密码<div class="icon-account-close" id="loginChangeClose"></div></div>                                                <div class="password"><input class="input" type="password" name="old_pwd" placeholder="请输入当前密码（6-16位字符）" autocomplete="off"></div>                                                <div class="password"><input class="input" type="password" name="new_pwd" placeholder="请输入新密码（6-16位字符）" autocomplete="off"></div>                                                <div class="password"><input class="input" type="password" name="repeat_pwd" placeholder="请再次输入新密码（6-16位字符）" autocomplete="off"></div>                                                <div class="btn"><button type="submit" class="login-btn" id="changeBtn">确认</button></div>                                            </div>                                            </form>                                        </div>',this.dialogConfig.success=function(n,a){n.find("#loginChangeClose").on("click",function(){layer.close(a)}),n.find("[name=old_pwd]").focus(),n.find("form").on("submit",function(a){a.preventDefault();var o={old_pwd:$.trim(n.find("[name=old_pwd]").val()),new_pwd:$.trim(n.find("[name=new_pwd]").val()),repeat_pwd:$.trim(n.find("[name=repeat_pwd]").val()),username:util.getStorage("userInfo").user_name};return o.old_pwd?o.new_pwd?o.new_pwd!==o.repeat_pwd?(layer.alert("两次密码输入不一致"),!1):(api.changePwd(o).then(function(n){e.logout()}),!1):(layer.alert("请输入新密码"),!1):(layer.alert("请输入当前密码"),!1)})},layer.open(this.dialogConfig)},storeUserInfo:function(e){util.setStorage("userInfo",e)},confirmLogout:function(){var e=this;layer.confirm("确认要注销吗？",function(n){api.logout().then(function(){e.logout()})})},logout:function(){util.clearStorage(),util.reload()},countDown:function(e){var n=this,a=n.time;e.innerHTML=n.time+"s",e.disabled=!0;var o=setInterval(function(){0==n.time?(clearInterval(o),e.innerHTML="发送验证码",e.disabled=!1,n.time=a):(n.time--,e.innerHTML=n.time+"s")},1e3)},sendCode:function(e,n){var a=this,o=$.trim($(e).prev().val());return o?/^1(3|4|5|7|8)\d{9}$/.test(o)?void api.sendCode({phone:o,type:n}).then(function(n){a.countDown(e)}):void layer.alert("手机号码格式不正确"):void layer.alert("请输入手机号码")}},window.dialog={successMsg:function(e,n){layer.open({type:1,title:!1,closeBtn:0,time:2e3,skin:"dialog-msg",content:n||'<div class="dialog-container"><div class="dialog-content"><span class="icon icon-success"></span>'+e+"</div></div>"})},errorMsg:function(e,n){this.successMsg.call(this,e,n||'<div class="dialog-container"><div class="dialog-content"><span class="icon icon-error"></span>'+e+"</div></div>")},confirm:function(e,n,a,o){var i=arguments,t="确定";"string"==typeof n&&(t=n);var s='<div class="dialog-container">                            <div class="dialog-content">'+e+'</div>                            <div class="dialog-btns">                                <button class="dialog-btn dialog-yes">'+t+'</button>                                <button class="dialog-btn dialog-cancel">取消</button>                            </div>                         </div>';layer.open({type:1,title:!1,closeBtn:0,skin:"dialog-confirm",content:s,success:function(e,t){e.find(".dialog-yes").on("click",function(){"function"==typeof n?n&&n():n&&"string"==typeof n&&a&&a(),layer.close(t)}),e.find(".dialog-cancel").on("click",function(){"function"==typeof n&&3===i.length?a&&a():"string"==typeof n&&4===i.length&&o&&o(),layer.close(t)})}})},detail:function(e,n){var a='<div class="dialog-detailWrap">                                <div class="dialog-detailTitle">'+e+'<span class="icon-dialog-close dialog-detailClose"></span></div>                                <div class="dialog-detailContent"><iframe frameborder="0" style="width: 100%; height:100%; margin: 0"></iframe></div>                           </div>';layer.open({type:1,title:!1,closeBtn:0,area:["500px","80%"],skin:"dialog-detail",content:a,success:function(e,a){setTimeout(function(){e.find("iframe").contents().find("body").html(n),e.find("iframe").contents().find("img").css("max-width","100%"),e.find(".dialog-detailClose").on("click",function(){layer.close(a)})},0)}})},message:function(e,n){var a='<div class="dialog-detailWrap">                                <div class="dialog-detailTitle">'+e+'<span class="icon-dialog-close dialog-detailClose"></span></div>                                <div class="dialog-messageContent">'+n+'</div>                                <div class="dialog-btnWarp dialog-btnPos dialog-ok">关闭</div>                            </div>';layer.open({type:1,title:!1,closeBtn:0,area:["377px","238px"],skin:"dialog-message",content:a,success:function(e,n){setTimeout(function(){e.find(".dialog-detailClose,.dialog-ok").on("click",function(){layer.close(n)})},0)}})}},window.common={tabToggle:function(e){var n=$(e),a=$(e).siblings(),o=$(e).index(),i=n.parent().nextAll();n.addClass("active"),a.removeClass("active"),$.each(i,function(e,n){n.style.display=e===o?"block":"none"})}},window.util={getQueryString:function(e){var n=window.location.search,a=new Object;if(-1!=n.indexOf("?"))for(var o=n.substr(1),i=o.split("&"),t=0;t<i.length;t++)a[i[t].split("=")[0]]=decodeURI(i[t].split("=")[1]);return a[e]},setStorage:function(e,n){window.localStorage.setItem(e,JSON.stringify(n))},getStorage:function(e){return $.parseJSON(window.localStorage.getItem(e))},removeStorage:function(e){window.localStorage.removeItem(e)},clearStorage:function(){window.localStorage.clear()},reload:function(){window.location.reload()},isPhone:function(e){return/^1(3|4|5|6|7|8)\d{9}$/.test(e)},isEmpty:function(e){for(var n in e)return!1;return!0},back:function(){window.history.go(-1)},flashChecker:function(){var e=0,n=0;if(document.all)try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(a){e=1;var o=a.GetVariable("$version");n=parseInt(o.split(" ")[1].split(",")[0])}}catch(n){e=0}else if(navigator.plugins&&navigator.plugins.length>0){var a=navigator.plugins["Shockwave Flash"];if(a){e=1;for(var i=a.description.split(" "),t=0;t<i.length;++t)isNaN(parseInt(i[t]))||(n=parseInt(i[t]))}}return{f:e,v:n}},formDate:function(e){function n(e){return e>9?e:"0"+e}var a="";if(""!==e&&0!==e){var o=new Date(1e3*e);a=n(o.getFullYear())+"-"+n(o.getMonth()+1)+"-"+n(o.getDate())+"  "+n(o.getHours())+":"+n(o.getMinutes())+":"+n(o.getSeconds())}return a},splitArrs:function(e,n,a){for(var o=[],i=(a-1)*n,t=a*n,s=i;s<t;s++)e[s]&&o.push(e[s]);return o},randomVerificationCode:function(e){for(var n,a="",o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i=0;i<e;i++)n=Math.round(Math.random()*(o.length-1)),a+=o[n];return a},getProvince:function(){var e=["北京市","上海市","天津市","重庆市","河北省","山西省","内蒙古自治区","辽宁省","吉林省","黑龙江省","江苏省","浙江省","安徽省","福建省","江西省","山东省","河南省","湖北省","湖南省","广东省","广西壮族自治区","海南省","四川省","贵州省","云南省","西藏自治区","陕西省","甘肃省","宁夏回族自治区","青海省","新疆维吾尔族自治区","香港","澳门","台湾"];return e=e.map(function(e,n){return{val:e,text:e}})},getCity:function(e){if(""!==e){return{"北京市":["北京市市辖区"],"天津市":["天津市市辖区","天津市郊县"],"河北省":["石家庄市","唐山市","秦皇岛市","邯郸市","邢台市","保定市","张家口市","承德市","沧州市","廊坊市","衡水市"],"山西省":["太原市","大同市","阳泉市","长治市","晋城市","朔州市","晋中市","运城市","忻州市","临汾市","吕梁市"],"内蒙古自治区":["呼和浩特市","包头市","乌海市","赤峰市","通辽市","鄂尔多斯市","呼伦贝尔市","巴彦淖尔市","乌兰察布市","兴安盟","锡林郭勒盟","阿拉善盟"],"辽宁省":["沈阳市","大连市","鞍山市","抚顺市","本溪市","丹东市","锦州市","营口市","阜新市","辽阳市","盘锦市","铁岭市","朝阳市","葫芦岛市"],"吉林省":["长春市","吉林市","四平市","辽源市","通化市","白山市","松原市","白城市","延边朝鲜族自治州"],"黑龙江省":["哈尔滨市","齐齐哈尔市","鸡西市","鹤岗市","双鸭山市","大庆市","伊春市","佳木斯市","七台河市","牡丹江市","黑河市","绥化市","大兴安岭地区"],"上海市":["上海市市辖区","上海市郊县"],"江苏省":["南京市","无锡市","徐州市","常州市","苏州市","南通市","连云港市","淮安市","盐城市","扬州市","镇江市","泰州市","宿迁市"],"浙江省":["杭州市","宁波市","温州市","嘉兴市","湖州市","绍兴市","金华市","衢州市","舟山市","台州市","丽水市"],"安徽省":["合肥市","芜湖市","蚌埠市","淮南市","马鞍山市","淮北市","铜陵市","安庆市","黄山市","滁州市","阜阳市","宿州市","六安市","亳州市","池州市","宣城市"],"福建省":["福州市","厦门市","莆田市","三明市","泉州市","漳州市","南平市","龙岩市","宁德市"],"江西省":["南昌市","景德镇市","萍乡市","九江市","新余市","鹰潭市","赣州市","吉安市","宜春市","抚州市","上饶市"],"山东省":["济南市","青岛市","淄博市","枣庄市","东营市","烟台市","潍坊市","济宁市","泰安市","威海市","日照市","莱芜市","临沂市","德州市","聊城市","滨州市","菏泽市"],"河南省":["郑州市","开封市","洛阳市","平顶山市","安阳市","鹤壁市","新乡市","焦作市","濮阳市","许昌市","漯河市","三门峡市","南阳市","商丘市","信阳市","周口市","驻马店市","济源市"],"湖北省":["武汉市","黄石市","十堰市","宜昌市","襄阳市","鄂州市","荆门市","孝感市","荆州市","黄冈市","咸宁市","随州市","恩施土家族苗族自治州","仙桃市","潜江市","天门市","神农架林区"],"湖南省":["长沙市","株洲市","湘潭市","衡阳市","邵阳市","岳阳市","常德市","张家界市","益阳市","郴州市","永州市","怀化市","娄底市","湘西土家族苗族自治州"],"广东省":["广州市","韶关市","深圳市","珠海市","汕头市","佛山市","江门市","湛江市","茂名市","肇庆市","惠州市","梅州市","汕尾市","河源市","阳江市","清远市","东莞市","中山市","潮州市","揭阳市","云浮市"],"广西壮族自治区":["南宁市","柳州市","桂林市","梧州市","北海市","防城港市","钦州市","贵港市","玉林市","百色市","贺州市","河池市","来宾市","崇左市"],"海南省":["海口市","三亚市","三沙市","儋州市","五指山市","琼海市","文昌市","万宁市","东方市","定安县","屯昌县","澄迈县","临高县","白沙黎族自治县","昌江黎族自治县","乐东黎族自治县","陵水黎族自治县","保亭黎族苗族自治县","琼中黎族苗族自治县"],"重庆市":["重庆市市辖区","重庆市郊县"],"四川省":["成都市","自贡市","攀枝花市","泸州市","德阳市","绵阳市","广元市","遂宁市","内江市","乐山市","南充市","眉山市","宜宾市","广安市","达州市","雅安市","巴中市","资阳市","阿坝藏族羌族自治州","甘孜藏族自治州","凉山彝族自治州"],"贵州省":["贵阳市","六盘水市","遵义市","安顺市","毕节市","铜仁市","黔西南布依族苗族自治州","黔东南苗族侗族自治州","黔南布依族苗族自治州"],"云南省":["昆明市","曲靖市","玉溪市","保山市","昭通市","丽江市","普洱市","临沧市","楚雄彝族自治州","红河哈尼族彝族自治州","文山壮族苗族自治州","西双版纳傣族自治州","大理白族自治州","德宏傣族景颇族自治州","怒江傈僳族自治州","迪庆藏族自治州"],"西藏自治区":["拉萨市","日喀则市","昌都市","林芝市","山南地区","那曲地区","阿里地区"],"陕西省":["西安市","铜川市","宝鸡市","咸阳市","渭南市","延安市","汉中市","榆林市","安康市","商洛市"],"甘肃省":["兰州市","嘉峪关市","金昌市","白银市","天水市","武威市","张掖市","平凉市","酒泉市","庆阳市","定西市","陇南市","临夏回族自治州","甘南藏族自治州"],"青海省":["西宁市","海东市","海北藏族自治州","黄南藏族自治州","海南藏族自治州","果洛藏族自治州","玉树藏族自治州","海西蒙古族藏族自治州"],"宁夏回族自治区":["银川市","石嘴山市","吴忠市","固原市","中卫市"],"新疆维吾尔族自治区":["乌鲁木齐市","克拉玛依市","吐鲁番市","哈密地区","昌吉回族自治州","博尔塔拉蒙古自治州","巴音郭楞蒙古自治州","阿克苏地区","克孜勒苏柯尔克孜自治州","喀什地区","和田地区","伊犁哈萨克自治州","塔城地区","阿勒泰地区","石河子市","阿拉尔市","图木舒克市","五家渠市","北屯市","铁门关市","双河市","可克达拉市"],"台湾":["台北市","高雄市"],"香港":["中西区","湾仔区","东区","南区","油尖旺区","深水埗区","九龙城区","黄大仙区","观塘区","荃湾区","屯门区","元朗区","北区","大埔区","西贡区","沙田区","葵青区","离岛区"],"澳门":["花地玛堂区","花王堂区","望德堂区","大堂区","风顺堂区","嘉模堂区","路凼填海区","圣方济各堂区"]}[e].map(function(e,n){return{val:e,text:e}})}}},layui.use(["element","form"],function(){layui.element,layui.form})}();var slideVm;avalon.component("ms-slide",{template:'        <div class="layui-side ms-side-nav-warp">\n            <div class="layui-side-scroll">\n                <ul class="layui-nav layui-nav-tree ms-nav-tree">\n                    <li :for="(index,item) in @navMenu" class="layui-nav-item " :class="[@index==@active ? \'layui-nav-itemed\':\'\']">\n                        <a href="javascript:;"><span class="navIcon" :class="\'icon-\'+(@index+1)"></span>{{item.name}}</a>\n                        <dl class="layui-nav-child">\n                            <dd class="ms-nav-item" :for="(subIndex,subItem) in item.list"><a href="javascript:;">{{subItem.name}}</a></dd>\n                        </dl>\n                    </li>\n                </ul>\n            </div>\n        </div>',defaults:{active:0,navMenu:[],onInit:function(e){slideVm=e.vmodel},onReady:function(){var e=this;setTimeout(function(){api.navMenu().then(function(n){console.log(n),1e4===n.code&&(e.navMenu=n.data,layui.element.render())})},0)}}});